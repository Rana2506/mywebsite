<!-- Essential SEO Meta Tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Title and Description -->
<title>{% if page.title %}{{ page.title | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.title }}{% endif %}</title>
<meta name="description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">

<!-- Keywords -->
<meta name="keywords" content="{% if page.keywords %}{{ page.keywords }}{% else %}safety equipment, PPE, personal protective equipment, fall arrest system, lifeline system, safety helmet, safety gloves, rooftop guardrail, skylight protection, construction safety, industrial safety, safety solutions{% endif %}">

<!-- Author and Company -->
<meta name="author" content="{{ site.author.name }}">
<meta name="company" content="{{ site.company.name }}">
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow">

<!-- Open Graph (Facebook) -->
<meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
<meta property="og:title" content="{% if page.title %}{{ page.title | strip_html | strip_newlines }}{% else %}{{ site.title }}{% endif %}">
<meta property="og:description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
<meta property="og:url" content="{{ site.url }}{{ page.url }}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:image" content="{% if page.image %}{{ site.url }}{{ page.image }}{% else %}{{ site.url }}/assets/images/og-default.jpg{% endif %}">
<meta property="og:image:alt" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
<meta property="og:locale" content="en_US">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% if page.title %}{{ page.title | strip_html | strip_newlines }}{% else %}{{ site.title }}{% endif %}">
<meta name="twitter:description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
<meta name="twitter:image" content="{% if page.image %}{{ site.url }}{{ page.image }}{% else %}{{ site.url }}/assets/images/og-default.jpg{% endif %}">
<meta name="twitter:site" content="@hsspl">
<meta name="twitter:creator" content="@hsspl">

<!-- Canonical URL -->
<link rel="canonical" href="{{ site.url }}{{ page.url | remove: 'index.html' }}">

<!-- Favicon and Icons -->
<link rel="icon" type="image/x-icon" href="{{ site.baseurl }}/assets/images/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/assets/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="{{ site.baseurl }}/assets/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="{{ site.baseurl }}/assets/images/favicon-16x16.png">

<!-- Schema.org Structured Data -->
{% include seo-schema.html %}

<!-- Bootstrap & Required Libraries -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="lib/animate/animate.min.css"/>
<link rel="stylesheet" href="lib/lightbox/css/lightbox.min.css">
<link rel="stylesheet" href="lib/owlcarousel/assets/owl.carousel.min.css">
<link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css">

<style>
.header-fixed {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1030;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  padding: 0;
}

/* Add top padding to body to account for fixed header */
body {
  padding-top: 80px;
}

/* Ensure main content starts below header */
main {
  position: relative;
}

/* Responsive body padding */
@media (max-width: 768px) {
  body {
    padding-top: 75px;
  }
}

@media (max-width: 480px) {
  body {
    padding-top: 70px;
  }
}
.header-logo {
  height: 48px;
  width: auto;
}
.company-name {
  font-size: 1.5rem;
  font-weight: 700;
  color: #e30613;
  margin-left: 12px;
  letter-spacing: 1px;
  white-space: nowrap;
}
@media (max-width: 991.98px) {
  .company-name { font-size: 1.1rem; }
}
.navbar-nav .nav-link {
  font-weight: 500;
  color: #222;
  margin-right: 8px;
}
.navbar-nav .nav-link.active, .navbar-nav .nav-link:focus, .navbar-nav .nav-link:hover {
  color: #e30613;
}
.dropdown-menu {
  min-width: 220px;
}
.search-box {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.search-input {
  border-radius: 20px 0 0 20px;
  border: 1px solid #ced4da;
  padding: 0.375rem 1rem;
  min-width: 140px;
}
.search-btn {
  border-radius: 0 20px 20px 0;
  background: #e30613;
  color: #fff;
  border: none;
  padding: 0.375rem 1rem;
}
.search-btn:hover, .search-btn:focus, .search-btn:active {
  background: #c50410 !important;
  color: #fff !important;
  border: none !important;
}
/* Remove default button focus outline */
.search-btn:focus {
  box-shadow: none !important;
  outline: none !important;
}
/* Fix navbar toggler (burger) button colors */
.navbar-toggler {
  border: none !important;
  padding: 0.25rem 0.5rem !important;
}
.navbar-toggler:focus, .navbar-toggler:active, .navbar-toggler:hover {
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}
.navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2833, 37, 41, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
}
@media (max-width: 767.98px) {
  .search-box { width: 100%; }
  .search-input { min-width: 0; width: 100%; }
}
/* Ensure dropdown works on all screens */
@media (min-width: 992px) {
  .dropdown:hover .dropdown-menu {
    display: block;
    margin-top: 0;
  }
}
/* Fix mobile menu visibility */
.navbar-collapse {
  transition: all 0.3s ease;
}
.navbar-collapse.show {
  display: block !important;
}
@media (max-width: 991.98px) {
  .navbar-collapse:not(.show) {
    display: none !important;
  }
}
</style>

<header class="header-fixed shadow-sm">
  <nav class="navbar navbar-expand-lg navbar-light bg-white py-2">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="/">
        <img src="{{ site.baseurl }}/assets/images/logo.png" alt="Logo" class="header-logo me-2">
        <span class="company-name">Heinrich Safety Soulutions</span>
      </a>      <button class="navbar-toggler" type="button" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center">
          <li class="nav-item">
            <a class="nav-link" href="/about.html">About Us</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="productsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span id="productsLink" style="cursor:pointer;">Products</span>
              <span class="ms-1 dropdown-caret"></span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="productsDropdown">
              
              <li><a class="dropdown-item" href="/ppe.html">Personal Protective Equipment</a></li>
              <li><a class="dropdown-item" href="/life-line-system.html">Life Line System</a></li>
              <li><a class="dropdown-item" href="/fall-arrest-system.html">Fall Arrest System</a></li>
              <li><a class="dropdown-item" href="/roof-top-guardrail.html">Rooftop Guardrail</a></li>
              <li><a class="dropdown-item" href="/skylight-protection-cover.html">Skylight Protection Cover</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/services.html">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/contact-us.html">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/promo-offers.html">Promo & Offers</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/career.html">Career</a>
          </li>          <li class="nav-item ms-lg-3 mt-2 mt-lg-0">
            <form class="search-box" action="/search.html" method="get" role="search" id="headerSearchForm">
              <input class="form-control search-input" type="search" name="q" placeholder="Search Products..." aria-label="Search" id="headerSearchInput">
              <button class="search-btn" type="submit"><i class="fas fa-search"></i></button>
            </form>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-- Bootstrap JS (for dropdowns and navbar toggler) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ site.baseurl }}/assets/js/search.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Get navbar elements
  var navbarToggler = document.querySelector('.navbar-toggler');
  var navbarCollapse = document.getElementById('mainNavbar');  // Mobile menu toggle - Complete manual control
  if (navbarToggler && navbarCollapse) {
    // Remove any existing Bootstrap event listeners
    navbarToggler.removeAttribute('data-bs-toggle');
    navbarToggler.removeAttribute('data-bs-target');
    
    navbarToggler.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopImmediatePropagation();
      console.log('Burger clicked'); // Debug log
      
      const isOpen = navbarCollapse.classList.contains('show');
      
      if (isOpen) {
        // Close menu
        navbarCollapse.classList.remove('show');
        navbarCollapse.style.display = 'none';
        this.setAttribute('aria-expanded', 'false');
        this.classList.add('collapsed');
        console.log('Menu closed'); // Debug log
      } else {
        // Open menu
        navbarCollapse.classList.add('show');
        navbarCollapse.style.display = 'block';
        this.setAttribute('aria-expanded', 'true');
        this.classList.remove('collapsed');
        console.log('Menu opened'); // Debug log
      }
    }, true); // Use capture phase to run before Bootstrap
  }
    // Close mobile menu when clicking nav links
  var navLinks = document.querySelectorAll('.navbar-nav .nav-link, .dropdown-item');
  navLinks.forEach(function(link) {
    link.addEventListener('click', function() {
      if (window.innerWidth < 992 && navbarCollapse) {
        navbarCollapse.classList.remove('show');
        navbarCollapse.style.display = 'none';
        if (navbarToggler) {
          navbarToggler.setAttribute('aria-expanded', 'false');
          navbarToggler.classList.add('collapsed');
        }
      }
    });
  });
  
  // Desktop: show dropdown on hover
  if (window.innerWidth >= 992) {
    var dropdown = document.querySelector('.nav-item.dropdown');
    if (dropdown) {
      dropdown.addEventListener('mouseenter', function() {
        this.classList.add('show');
        this.querySelector('.dropdown-menu').classList.add('show');
      });
      dropdown.addEventListener('mouseleave', function() {
        this.classList.remove('show');
        this.querySelector('.dropdown-menu').classList.remove('show');
      });
    }
  }
  
  // Mobile: toggle dropdown on click
  var dropdownToggle = document.querySelector('.dropdown-toggle');
  if (dropdownToggle) {
    dropdownToggle.addEventListener('click', function(e) {
      if (window.innerWidth < 992) {
        e.preventDefault();
        var menu = this.nextElementSibling;
        menu.classList.toggle('show');
      }
    });
  }
  document.getElementById('productsLink').addEventListener('click', function(e) {
    window.location.href = 'products.html';
    e.stopPropagation(); // Prevent dropdown from opening
  });

  // Enhanced search functionality
  initializeSearch();
});

// Search functionality for header
function initializeSearch() {
  const searchInput = document.getElementById('headerSearchInput');
  const searchForm = document.getElementById('headerSearchForm');
  
  if (!searchInput || !searchForm) return;

  // Create suggestions dropdown
  const suggestionsDiv = document.createElement('div');
  suggestionsDiv.className = 'search-suggestions';
  suggestionsDiv.style.cssText = `
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-top: none;
    border-radius: 0 0 8px 8px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 1000;
    display: none;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  `;
  
  // Make search container relative
  const searchBox = document.querySelector('.search-box');
  searchBox.style.position = 'relative';
  searchBox.appendChild(suggestionsDiv);

  // Search suggestions data
  const searchSuggestions = [
    'Safety Helmet', 'Safety Gloves', 'Reflective Jacket', 'Face Shield', 'Safety Shoes',
    'Lifeline System', 'Horizontal Lifeline', 'Vertical Lifeline', 'Fall Arrest',
    'Anchor Plate', 'Wire Rope', 'Carabiner Hook', 'Shock Absorber',
    'Rooftop Guardrail', 'Skylight Protection', 'PPE', 'Personal Protective Equipment',
    'Safety Mask', 'Eye Protection', 'Tensioner', 'End Anchor', 'Corner Unit'
  ];

  // Show suggestions on focus
  searchInput.addEventListener('focus', function() {
    if (this.value.length > 0) {
      showSuggestions(this.value);
    }
  });

  // Hide suggestions on blur (with delay for clicking)
  searchInput.addEventListener('blur', function() {
    setTimeout(() => {
      suggestionsDiv.style.display = 'none';
    }, 200);
  });

  // Show suggestions while typing
  searchInput.addEventListener('input', function() {
    const query = this.value.trim();
    if (query.length > 0) {
      showSuggestions(query);
    } else {
      suggestionsDiv.style.display = 'none';
    }
  });

  // Handle keyboard navigation
  searchInput.addEventListener('keydown', function(e) {
    const suggestions = suggestionsDiv.querySelectorAll('.suggestion-item');
    const activeSuggestion = suggestionsDiv.querySelector('.suggestion-item.active');
    
    if (e.key === 'ArrowDown') {
      e.preventDefault();
      if (activeSuggestion) {
        activeSuggestion.classList.remove('active');
        const next = activeSuggestion.nextElementSibling;
        if (next) {
          next.classList.add('active');
        } else {
          suggestions[0]?.classList.add('active');
        }
      } else {
        suggestions[0]?.classList.add('active');
      }
    } else if (e.key === 'ArrowUp') {
      e.preventDefault();
      if (activeSuggestion) {
        activeSuggestion.classList.remove('active');
        const prev = activeSuggestion.previousElementSibling;
        if (prev) {
          prev.classList.add('active');
        } else {
          suggestions[suggestions.length - 1]?.classList.add('active');
        }
      } else {
        suggestions[suggestions.length - 1]?.classList.add('active');
      }
    } else if (e.key === 'Enter') {
      if (activeSuggestion) {
        e.preventDefault();
        searchInput.value = activeSuggestion.textContent;
        suggestionsDiv.style.display = 'none';
        searchForm.submit();
      }
    } else if (e.key === 'Escape') {
      suggestionsDiv.style.display = 'none';
      searchInput.blur();
    }
  });

  function showSuggestions(query) {
    const filteredSuggestions = searchSuggestions.filter(suggestion =>
      suggestion.toLowerCase().includes(query.toLowerCase())
    ).slice(0, 8);

    if (filteredSuggestions.length > 0) {
      suggestionsDiv.innerHTML = filteredSuggestions.map(suggestion => `
        <div class="suggestion-item" style="
          padding: 10px 15px;
          cursor: pointer;
          border-bottom: 1px solid #f0f0f0;
          transition: background-color 0.2s;
          font-size: 0.9rem;
        " onmouseover="this.style.backgroundColor='#f8f9fa'"
           onmouseout="this.style.backgroundColor=''"
           onclick="selectSuggestion('${suggestion}')">
          <i class="fas fa-search text-muted me-2"></i>${suggestion}
        </div>
      `).join('');
      suggestionsDiv.style.display = 'block';
    } else {
      suggestionsDiv.style.display = 'none';
    }
  }

  // Global function to select suggestion
  window.selectSuggestion = function(suggestion) {
    searchInput.value = suggestion;
    suggestionsDiv.style.display = 'none';
    searchForm.submit();
  };
}
</script>
